/**
 * @license
 * Copyright (c) 2014, 2020, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define(["ojs/ojcore","jquery","ojs/ojthemeutils","ojs/ojcomponentcore","ojs/ojlogger","ojs/ojcontext","ojs/ojconfig","touchr"],function(t,e,o,i,n,s,r){"use strict";var l={properties:{arrowVisibility:{type:"string",writeback:!0,enumValues:["auto","hidden","visible"]},contentParent:{type:"string",writeback:!0},orientation:{type:"string",writeback:!0,enumValues:["horizontal","vertical"],value:"horizontal"},translations:{type:"object",value:{}}},methods:{refresh:{},scrollElementIntoView:{},setProperty:{},getProperty:{},setProperties:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}};function a(t,e,o,i,n,s,r,l){this._elem=t,this._orientation=e,this._contentParent=o,this._bRtl=i,this._arrowVisibility=n.arrowVisibility,this._prevButtonStyleClass=n.prevButtonStyleClass,this._nextButtonStyleClass=n.nextButtonStyleClass,this._prevButtonIcon=n.prevButtonIcon,this._nextButtonIcon=n.nextButtonIcon,this._scrollFunc=s.scrollFunc,this._addResizeListenerFunc=s.addResizeListener,this._removeResizeListenerFunc=s.removeResizeListener,this._addStyleClassNameFunc=s.addStyleClassName,this._removeStyleClassNameFunc=s.removeStyleClassName,this._hasStyleClassNameFunc=s.hasStyleClassName,this._filterContentElementsFunc=s.filterContentElements,this._subtreeDetachedFunc=s.subtreeDetached,this._subtreeAttachedFunc=s.subtreeAttached,this._addBusyStateFunc=s.addBusyState,this._overflowContainerStyleClass=r.overflowContainerStyleClass,this._contentContainerStyleClass=r.contentContainerStyleClass,this._itemStyleClass=r.itemStyleClass,this._hiddenStyleClass=r.hiddenStyleClass,this._bExternalScroll=!0,this._firstVisibleItemIndex=0,this._agentVersion=l.browserVersion,this._atStart=!0,this._atEnd=!1;var a=navigator.userAgent.toLowerCase();-1!==a.indexOf("gecko/")?this._bAgentGecko=!0:l&&"safari"===l.browser?this._bAgentSafari=!0:l&&"edge"===l.browser?this._bAgentEdge=!0:-1===a.indexOf("applewebkit")&&-1===a.indexOf("safari")||(this._bAgentWebkit=!0)}a.prototype.setup=function(){var t=this,o=a;if(this._createInnerContainers(),"visible"===this._arrowVisibility){this._createPrevButton(this._prevButtonStyleClass,this._prevButtonIcon),this._createNextButton(this._nextButtonStyleClass,this._nextButtonIcon);var i=this._nextButton;this._buttonWidth=Math.round(e(i).outerWidth(!0)),this._buttonHeight=Math.round(e(i).outerHeight(!0))}else this._buttonWidth=0,this._buttonHeight=0;this._hidePrevButton(),this._hideNextButton(),this._mouseWheelListener=function(e){t._handleMouseWheel(e)},o._addBubbleEventListener(this._elem,"mousewheel",this._mouseWheelListener,!1),o._addBubbleEventListener(this._elem,"wheel",this._mouseWheelListener,!1),this._touchStartListener=function(e){t._handleTouchStart(e)},o._addBubbleEventListener(this._overflowContainer,"touchstart",this._touchStartListener,!0),this._touchMoveListener=function(e){t._handleTouchMove(e)},o._addBubbleEventListener(this._overflowContainer,"touchmove",this._touchMoveListener,!1),this._touchEndListener=function(e){t._handleTouchEnd(e)},o._addBubbleEventListener(this._overflowContainer,"touchend",this._touchEndListener),o._addBubbleEventListener(this._overflowContainer,"touchcancel",this._touchEndListener),this._origScroll=0,this._clearCachedSizes(),this._adjustOverflowSize(!0),this._handleResize(!0),this._handleResizeFunc=function(e,o){t._handleResize(!1)},this._addResizeListenerFunc.call(null,this._elem,this._handleResizeFunc),this._addResizeListenerFunc.call(null,this._contentContainer,this._handleResizeFunc),this._subtreeAttachedFunc(this._contentContainer)},a.prototype.destroy=function(){this._resolveBusyState();var t=this._elem,e=a;e._removeBubbleEventListener(t,"mousewheel",this._mouseWheelListener,!1),e._removeBubbleEventListener(t,"wheel",this._mouseWheelListener,!1),e._removeBubbleEventListener(this._overflowContainer,"touchstart",this._touchStartListener,!0),e._removeBubbleEventListener(this._overflowContainer,"touchmove",this._touchMoveListener,!1),e._removeBubbleEventListener(this._overflowContainer,"touchend",this._touchEndListener),e._removeBubbleEventListener(this._overflowContainer,"touchcancel",this._touchEndListener),e._removeBubbleEventListener(this._overflowContainer,"scroll",this._scrollListener),this._mouseWheelListener=null,this._touchStartListener=null,this._touchMoveListener=null,this._touchEndListener=null,this._scrollListener=null,this._removeResizeListenerFunc.call(null,t,this._handleResizeFunc),this._removeResizeListenerFunc.call(null,this._contentContainer,this._handleResizeFunc),this._handleResizeFunc=null,this._reparentChildrenFromContentContainer(this._contentContainer,t),t.removeChild(this._overflowContainer),this._overflowContainer=null,null!=this._nextButton&&null!=this._prevButton&&(t.removeChild(this._nextButton),t.removeChild(this._prevButton),this._nextButton=null,this._prevButton=null),this._contentContainer=null,this._clearCachedSizes(),this._elem=null,this._scrollFunc=null,this._addResizeListenerFunc=null,this._removeResizeListenerFunc=null,this._addStyleClassNameFunc=null,this._removeStyleClassNameFunc=null,this._hasStyleClassNameFunc=null,this._filterContentElementsFunc=null,this._subtreeDetachedFunc=null,this._subtreeAttachedFunc=null,this._addBusyStateFunc=null,this._contentParent=null},a.prototype.handleResize=function(){this._handleResize(!1)},a.prototype.setScroll=function(t,e){this._setCurrScroll(t,e)},a.prototype.getScroll=function(){return this._getCurrScroll()},a.prototype._reparentChildrenToContentContainer=function(t,e){for(var o=t.childNodes;o.length>0;){var i=o[0];this._subtreeDetachedFunc(i),e.appendChild(i),1===i.nodeType&&this._itemStyleClass&&this._addStyleClassNameFunc(i,this._itemStyleClass)}},a.prototype._reparentChildrenFromContentContainer=function(t,e){for(var o=t.childNodes;o.length>0;){var i=o[0];e.appendChild(i),1===i.nodeType&&this._itemStyleClass&&this._removeStyleClassNameFunc(i,this._itemStyleClass)}},a._getComputedStyle=function(t){return t.ownerDocument.defaultView.getComputedStyle(t,null)},a._getElemInnerWidth=function(t){var e=a,o=e._getComputedStyle(t);return e._getCSSLengthAsInt(o.width)},a._getElemInnerHeight=function(t){var e=a,o=e._getComputedStyle(t);return e._getCSSLengthAsInt(o.height)},a._getCSSLengthAsInt=function(t){if(t.length>0&&"auto"!==t){var e=Math.round(parseFloat(t));return isNaN(e)&&(e=0),e}return 0},a._addBubbleEventListener=function(t,e,o,i){t.addEventListener(e,o,{passive:i,capture:!1})},a._removeBubbleEventListener=function(t,e,o,i){t.removeEventListener(e,o,{passive:i,capture:!1})},a._getWheelDelta=function(t){return null!=t.wheelDelta?t.wheelDelta:null!=t.deltaY?-t.deltaY:-t.detail},a.prototype._isHorizontal=function(){return"horizontal"===this._orientation},a.prototype._isEmpty=function(){return!this._getContentParent().hasChildNodes()},a.prototype._reinitializeInnerDom=function(){this._origScroll=this._getCurrScroll(),this._setOverflowScroll(0),this._hidePrevButton(),this._hideNextButton()},a.prototype._clearCachedSizes=function(){this._totalSize=null,this._sizes=null},a.prototype._handleResize=function(t){t||this._reinitializeInnerDom(),this._clearCachedSizes(),this._totalSize=this._measureContents(),t||this._adjustOverflowSize(!1),"visible"===this._arrowVisibility&&this._alignButtons()},a.prototype._alignButtons=function(){var t=this._nextButton,e=this._prevButton,o=t.style,i=e.style,n=this._totalSize;this._isHorizontal()?(o.height=n.h+"px",i.height=n.h+"px"):(o.width=n.w+"px",i.width=n.w+"px")},a.prototype._adjustOverflowSize=function(t){var e=this._contentContainer,o=this._isHorizontal(),i=a,n=o?i._getElemInnerWidth(this._elem):i._getElemInnerHeight(this._elem);this._minScroll=0,this._maxScroll=o?e.offsetWidth-n+this._buttonWidth:e.offsetHeight-n+this._buttonHeight,this._maxScroll<0&&(this._maxScroll=0),this._hidePrevButton(),this._hideNextButton(),this._setCurrScroll(t?this._minScroll:this._origScroll,!0),this._origScroll=0},a.prototype._createInnerContainers=function(){var t=this,e=this._elem,o=a,i=document.createElement("div");this._overflowContainer=i,this._addStyleClassNameFunc(i,this._overflowContainerStyleClass);var n=document.createElement("div");this._contentContainer=n,this._addStyleClassNameFunc(n,this._contentContainerStyleClass),this._reparentChildrenToContentContainer(e,n),e.appendChild(i),i.appendChild(n),this._scrollListener=function(e){t._handleScroll(e)},o._addBubbleEventListener(i,"scroll",this._scrollListener)},a.prototype._getContentElements=function(){var t,e=[],o=this._contentParent?this._contentParent:this._contentContainer,i=o.children,n=i.length;for(t=0;t<n;t++){var s=i[t];1===s.nodeType&&e.push(s)}if(e=(0,this._filterContentElementsFunc)(e),o===this._contentContainer&&this._itemStyleClass)for(t=0;t<e.length;t++){var r=e[t];this._hasStyleClassNameFunc(r,this._itemStyleClass)||this._addStyleClassNameFunc(r,this._itemStyleClass)}return e},a.prototype._createPrevButton=function(t,e){var o=this,i=document.createElement("div");this._prevButton=i,i.setAttribute("class",t),i.setAttribute("aria-hidden","true"),a._addBubbleEventListener(i,"click",function(){o._scrollPrev()}),i.appendChild(e),this._elem.insertBefore(i,this._overflowContainer)},a.prototype._createNextButton=function(t,e){var o=this,i=document.createElement("div");this._nextButton=i,i.setAttribute("class",t),i.setAttribute("aria-hidden","true"),a._addBubbleEventListener(i,"click",function(){o._scrollNext()}),i.appendChild(e),this._elem.appendChild(i)},a.prototype._getContentParent=function(){var t=this._contentParent;return t||(t=this._contentContainer),t},a.prototype._measureContents=function(){var t=this._getContentElements(),e={w:0,h:0},o=[];if(t.length>0){var i,n=t,s=this._isHorizontal();i=this._contentContainer.offsetWidth;for(var r=0,l=null,a=0;a<n.length;a++){var h=n[a];if(1===h.nodeType){var c=h.offsetWidth,u=h.offsetHeight,_={w:c,h:u,id:h.id};if(s){var d=h.offsetLeft;this._contentParent||0!==d||(d=h.parentNode.offsetLeft),this._bRtl?_.start=i-(d+c):_.start=d,0===a&&(r=_.start),_.start-=r,e.w=_.start+c,e.h=Math.max(e.h,u),_.end=e.w-1}else{var v=h.offsetTop;this._contentParent||0!==v||(v=h.parentNode.offsetTop),_.start=v,e.w=Math.max(e.w,c),e.h=_.start+u,_.end=e.h-1}if(l&&l.end>=_.start){var f=l.end-(_.start-1);l.end-=f,s?l.w-=f:l.h-=f}o.push(_),l=_}}}return this._sizes=o,e},a.prototype._getSizes=function(){return this._sizes},a.prototype._showNextButton=function(){this._removeStyleClassNameFunc(this._nextButton,this._hiddenStyleClass),this._atEnd=!1},a.prototype._showPrevButton=function(){this._removeStyleClassNameFunc(this._prevButton,this._hiddenStyleClass),this._atStart=!1},a.prototype._hideNextButton=function(){this._addStyleClassNameFunc(this._nextButton,this._hiddenStyleClass),this._atEnd=!0},a.prototype._hidePrevButton=function(){this._addStyleClassNameFunc(this._prevButton,this._hiddenStyleClass),this._atStart=!0},a.prototype._getButtonSize=function(){var t=0;return"visible"===this._arrowVisibility&&(t=this._isHorizontal()?this._buttonWidth:this._buttonHeight),t},a.prototype._updateButtonVisibility=function(t){var e=this._getButtonSize(),o=this._getCurrScroll(),i=this._needsScroll();t<=this._minScroll?(this._atStart||(o-=e),this._hidePrevButton()):i&&(this._atStart&&(o+=e),this._showPrevButton()),t>=this._maxScroll?this._hideNextButton():i&&this._showNextButton(),this._setOverflowScroll(o)},a.prototype._setOverflowScroll=function(t){var e=this._overflowContainer;this._isHorizontal()?e.scrollLeft=this._convertScrollLogicalToBrowser(t):e.scrollTop=t},a.prototype._getCurrViewportSize=function(){var t=this._overflowContainer;return this._isHorizontal()?t.offsetWidth:t.offsetHeight},a.prototype._setCurrScroll=function(t,e){this._bScrolling||(this._bExternalScroll=!1,this._setCurrScrollHelper(t,e))},a.prototype._setCurrScrollHelper=function(t,e){if(!this._isEmpty()){this._bScrolling=!0,t=this._constrainScroll(t),this._updateButtonVisibility(t);var o=this._scrollFunc;if(e||!o||t===this._getCurrScroll())this._onScrollAnimEnd(this._bExternalScroll?this._getCurrScroll():t);else{this._busyStateResolveFunc=this._addBusyStateFunc("scrolling");var i=a,n=Math.abs(this._getCurrScroll()-t)/i._SCROLL_SPEED,s=this;o.call(null,this._overflowContainer,this._convertScrollLogicalToBrowser(t),n,function(){s._onScrollAnimEnd(t),s._resolveBusyState()})}}},a.prototype._resolveBusyState=function(){this._busyStateResolveFunc&&(this._busyStateResolveFunc(),this._busyStateResolveFunc=null)},a.prototype._getCurrScroll=function(){var t=this._overflowContainer;return this._isHorizontal()?this._convertScrollBrowserToLogical(t.scrollLeft):t.scrollTop},a.prototype._needsScroll=function(){var t=this._contentContainer,e=this._overflowContainer;return this._isHorizontal()?t.offsetWidth>e.offsetWidth:t.offsetHeight>e.offsetHeight},a.prototype._constrainScroll=function(t){return!this._needsScroll()||t<this._minScroll?this._minScroll:t>this._maxScroll?this._maxScroll:t},a.prototype._handleMouseWheel=function(t){var e=this._bScrolling;if(this._needsScroll()&&!this._bScrolling){var o=a._getWheelDelta(t);o<0&&!this._atEnd?(e=!0,this._scrollNext()):o>0&&!this._atStart&&(e=!0,this._scrollPrev())}e&&(t.preventDefault(),t.stopPropagation())},a.prototype._handleTouchStart=function(t){var e=t.touches;if(this._needsScroll()&&!this._bScrolling&&1===e.length){this._bTouch=!0;var o=e[0];this._touchStartCoord=this._isHorizontal()?o.pageX:o.pageY,this._touchStartScroll=this._getCurrScroll(),this._touchStartNextScroll=this._calcNextScroll(),this._touchStartPrevScroll=this._calcPrevScroll(),this._touchInitialNotAtEnd=!this._atEnd,this._touchInitialNotAtStart=!this._atStart}},a.prototype._handleTouchMove=function(t){var e=this._isHorizontal(),o=t.touches[0],i=(e?o.pageX:o.pageY)-this._touchStartCoord,n=e&&this._bRtl?i>0:i<0,s=n&&this._touchInitialNotAtEnd||!n&&this._touchInitialNotAtStart;if(this._bTouch&&s){var r=a,l=this._overflowContainer,h=r._SWIPE_THRESHOLD*(e?l.offsetWidth:l.offsetHeight);Math.abs(i)<h?(this._setCurrScroll(this._touchStartScroll-i,!0),(this._touchInitialNotAtEnd&&this._atEnd||this._touchInitialNotAtStart&&this._atStart)&&(this._bTouch=!1)):(this._setCurrScroll(n?this._touchStartNextScroll:this._touchStartPrevScroll,!1),this._bTouch=!1),this._scrolledForThisTouch=!0}this._scrolledForThisTouch&&(t.preventDefault(),t.stopPropagation())},a.prototype._handleTouchEnd=function(t){this._bTouch&&this._setCurrScroll(this._touchStartScroll,!1),this._bTouch=!1,this._scrolledForThisTouch=!1},a.prototype._handleScroll=function(t){this._bExternalScroll&&!this._bScrolling&&this._setCurrScrollHelper(this._getCurrScroll(),!0)},a.prototype._onScrollAnimEnd=function(t){this._setOverflowScroll(t),this._bExternalScroll=!0,this._bScrolling=!1},a.prototype._scrollNext=function(){this._bScrolling||this._setCurrScroll(this._calcNextScroll(),!1)},a.prototype._scrollPrev=function(){this._bScrolling||this._setCurrScroll(this._calcPrevScroll(),!1)},a.prototype._calcNextScroll=function(){var t=this._calcNextVisibleItemIndex();return t===this._calcFirstVisibleItemIndex()?this._getCurrScroll()+this._getCurrViewportSize():this._calcStartScroll(t)},a.prototype._calcPrevScroll=function(){var t=this._calcPrevVisibleItemIndex(),e=0;return e=t===this._calcLastVisibleItemIndex()?this._getCurrScroll()-this._getCurrViewportSize():this._calcEndScroll(t),this._atEnd&&(e+=this._getButtonSize()),e<=this._getButtonSize()&&(e=this._minScroll),e},a.prototype._calcStartScroll=function(t){return this._getSizes()[t].start},a.prototype._calcEndScroll=function(t){return this._getSizes()[t].end-this._getCurrViewportSize()+1},a.prototype._calcFirstVisibleItemIndex=function(){var t=this._getCurrScroll(),e=this._calcItemIndex(t);return e<0?0:e},a.prototype._calcLastVisibleItemIndex=function(){var t=this._getCurrViewportSize(),e=this._getCurrScroll()+t-1,o=this._calcItemIndex(e),i=this._getSizes();return o<0?i.length-1:o},a.prototype._calcPrevVisibleItemIndex=function(){var t=this._getCurrScroll()-1,e=this._calcItemIndex(t);return e<0?0:e},a.prototype._calcNextVisibleItemIndex=function(){var t=this._getCurrViewportSize(),e=this._getCurrScroll()+t,o=this._calcItemIndex(e),i=this._getSizes();return o<0?i.length-1:o},a.prototype._calcItemIndex=function(t){for(var e=this._getSizes(),o=0;o<e.length;o++){if(t<=e[o].end)return o}return-1},a.prototype._convertScrollLogicalToBrowser=function(t){var e=t;if(this._bRtl&&this._isHorizontal())if(this._bAgentGecko||this._bAgentSafari&&this._agentVersion>=10)e=-t;else if(this._bAgentWebkit){var o=this._contentContainer,i=this._overflowContainer;e=Math.round(o.getBoundingClientRect().width)-Math.round(i.getBoundingClientRect().width)-t}else this._bAgentSafari&&this._agentVersion<10&&(e=this._contentContainer.offsetWidth-this._overflowContainer.offsetWidth-t);return e},a.prototype._convertScrollBrowserToLogical=function(t){return this._convertScrollLogicalToBrowser(t)},a._SCROLL_SPEED=1.1,a._SWIPE_THRESHOLD=.33,t.__registerWidget("oj.ojConveyorBelt",e.oj.baseComponent,{defaultElement:"<div>",widgetEventPrefix:"oj",options:{orientation:"horizontal",arrowVisibility:"auto",contentParent:null},_ComponentCreate:function(){this._super(),this.element.addClass("oj-conveyorbelt oj-component"),this.options.disabled&&n.warn("JET ConveyorBelt: 'disabled' property not supported"),this._setup()},refresh:function(){this._super();var t,e="rtl"===this._GetReadingDirection(),o=this._bRTL!==e;o||(t=this._cbCommon.getScroll()),this._destroyCBCommon(),this._setup(),o||this._cbCommon.setScroll(t,!0)},_NotifyShown:function(){this._super(),this._needsSetup?this._setup():this._cbCommon&&this._cbCommon.handleResize()},_NotifyAttached:function(){this._super(),this._needsSetup?this._setup():this._cbCommon&&this._cbCommon.handleResize()},_setup:function(){var o=this,n=this.element,s=this.options,l=s.orientation;if("vertical"===l?n.addClass("oj-conveyorbelt-vertical"):n.removeClass("oj-conveyorbelt-vertical"),this._canCalculateSizes()){if(this._needsSetup=null,this._bRTL="rtl"===this._GetReadingDirection(),!this._cbCommon){var h=null,c=null,u=null,_=null,d=null;"vertical"!==l?(h="oj-enabled oj-conveyorbelt-overflow-indicator oj-start oj-default",c="oj-enabled oj-conveyorbelt-overflow-indicator oj-end oj-default",u=this._createIcon("oj-conveyorbelt-overflow-icon oj-start"),_=this._createIcon("oj-conveyorbelt-overflow-icon oj-end"),d=this._animateScrollLeft):(h="oj-enabled oj-conveyorbelt-overflow-indicator oj-top oj-default",c="oj-enabled oj-conveyorbelt-overflow-indicator oj-bottom oj-default",u=this._createIcon("oj-conveyorbelt-overflow-icon oj-top"),_=this._createIcon("oj-conveyorbelt-overflow-icon oj-bottom"),d=this._animateScrollTop);var v={};"auto"===s.arrowVisibility?v.arrowVisibility="phone"===r.getDeviceRenderMode()?"hidden":"visible":v.arrowVisibility=s.arrowVisibility,v.prevButtonStyleClass=h,v.nextButtonStyleClass=c,v.prevButtonIcon=u,v.nextButtonIcon=_;var f={overflowContainerStyleClass:"oj-conveyorbelt-overflow-container",contentContainerStyleClass:"oj-conveyorbelt-content-container",itemStyleClass:"oj-conveyorbelt-item",hiddenStyleClass:"oj-helper-hidden"},p={addResizeListener:function(e,o){t.DomUtils.addResizeListener(e,o,25)}};p.removeResizeListener=t.DomUtils.removeResizeListener,p.addStyleClassName=this._addStyleClassName,p.removeStyleClassName=this._removeStyleClassName,p.hasStyleClassName=this._hasStyleClassName,p.filterContentElements=function(t){return o._filterContentElements(t)},p.subtreeDetached=i.subtreeDetached,p.subtreeAttached=i.subtreeAttached,p.addBusyState=function(t){return o._addBusyState(t)},"enabled"!==r.getAutomationMode()&&(p.scrollFunc=d);var S=null;s.contentParent&&(S=e(s.contentParent)[0]);var m=t.AgentUtils.getAgentInfo(navigator.userAgent);this._cbCommon=new a(n[0],l,S,this._bRTL,v,p,f,m)}this._cbCommon.setup();for(var C=n.find(".oj-conveyorbelt-overflow-indicator"),y=0;y<C.length;y++)this._setupButtonMouseStyles(e(C[y]))}else this._needsSetup=!0},_destroy:function(){this._destroyCBCommon(),this.element.removeClass("oj-conveyorbelt oj-component oj-conveyorbelt-vertical"),this._super()},_setOption:function(t,e,o){var i=!1,s=this.options;switch(t){case"containerParent":case"arrowVisibility":i=!0;break;case"orientation":i=s.orientation!==e;break;case"disabled":n.warn("JET ConveyorBelt: 'disabled' property not supported")}i&&this._destroyCBCommon(),this._super(t,e,o),i&&this._setup()},_destroyCBCommon:function(){var t=this._cbCommon;t&&(this.element.find(".oj-conveyorbelt-overflow-indicator").off(this.eventNamespace),t.destroy()),this._cbCommon=null},_canCalculateSizes:function(){var t=document.createElement("div"),e=t.style;e.width="10px",e.height="10px",e["-webkit-flex"]="0 0 auto",e.flex="0 0 auto";var o=this.element[0];o.appendChild(t);var i=!1;try{i=t.offsetWidth>0&&t.offsetHeight>0}catch(t){}return o.removeChild(t),i},_setupButtonMouseStyles:function(t){this._AddHoverable({element:t,afterToggle:function(e){"mouseenter"===e?t.removeClass("oj-default"):"mouseleave"===e&&t.addClass("oj-default")}}),this._AddActiveable({element:t,afterToggle:function(e){"mousedown"===e||"touchstart"===e||"mouseenter"===e?t.removeClass("oj-default"):"mouseup"!==e&&"touchend"!==e&&"touchcancel"!==e&&"mouseleave"!==e||t.addClass("oj-default")}})},_createIcon:function(t){var e=document.createElement("span");e.setAttribute("class","oj-component-icon "+t);var o=document.createElement("div");return o.setAttribute("class","oj-conveyorbelt-overflow-button"),o.appendChild(e),o},_animateScrollLeft:function(t,o,i,n){var s={};s.scrollLeft=o,e(t).animate(s,i,"swing",n)},_animateScrollTop:function(t,o,i,n){var s={};s.scrollTop=o,e(t).animate(s,i,"swing",n)},_addStyleClassName:function(t,o){e(t).addClass(o)},_removeStyleClassName:function(t,o){e(t).removeClass(o)},_hasStyleClassName:function(t,o){return e(t).hasClass(o)},_filterContentElements:function(t){for(var e=[],o=0;o<t.length;o++){var i=t[o];this._hasStyleClassName(i,"oj-helper-detect-expansion")||this._hasStyleClassName(i,"oj-helper-detect-contraction")||e.push(i)}return e},_addBusyState:function(t){var e=this.element,o=s.getContext(e[0]).getBusyContext(),i="ConveyorBelt";i+=" (id='"+e.attr("id")+"')";var n={description:i+=": "+t};return o.addBusyState(n)},getNodeBySubId:function(t){if(null==t)return this.element[0];var e=t.subId;return"oj-conveyorbelt-start-overflow-indicator"===e?this.widget().find(".oj-conveyorbelt-overflow-indicator.oj-start")[0]:"oj-conveyorbelt-end-overflow-indicator"===e?this.widget().find(".oj-conveyorbelt-overflow-indicator.oj-end")[0]:"oj-conveyorbelt-top-overflow-indicator"===e?this.widget().find(".oj-conveyorbelt-overflow-indicator.oj-top")[0]:"oj-conveyorbelt-bottom-overflow-indicator"===e?this.widget().find(".oj-conveyorbelt-overflow-indicator.oj-bottom")[0]:null},getSubIdByNode:function(t){for(var e=this.getNodeBySubId({subId:"oj-conveyorbelt-start-overflow-indicator"}),o=this.getNodeBySubId({subId:"oj-conveyorbelt-end-overflow-indicator"}),i=this.getNodeBySubId({subId:"oj-conveyorbelt-top-overflow-indicator"}),n=this.getNodeBySubId({subId:"oj-conveyorbelt-bottom-overflow-indicator"}),s=t,r=this.element[0];s&&s!==r;){if(s===e)return{subId:"oj-conveyorbelt-start-overflow-indicator"};if(s===o)return{subId:"oj-conveyorbelt-end-overflow-indicator"};if(s===i)return{subId:"oj-conveyorbelt-top-overflow-indicator"};if(s===n)return{subId:"oj-conveyorbelt-bottom-overflow-indicator"};s=s.parentElement}return null},scrollElementIntoView:function(t){var e=this._cbCommon._getCurrViewportSize();if(this._cbCommon._isHorizontal()){var o=this.widget().find(".oj-conveyorbelt-overflow-container")[0].scrollLeft;t.offsetLeft+t.offsetWidth>=o+e?this.widget().find(".oj-conveyorbelt-overflow-container")[0].scrollLeft=t.offsetLeft+t.offsetWidth-e:t.offsetLeft<o&&(this.widget().find(".oj-conveyorbelt-overflow-container")[0].scrollLeft=t.offsetLeft)}else{var i=this.widget().find(".oj-conveyorbelt-overflow-container")[0].scrollTop;t.offsetTop+t.offsetHeight>=i+e?this.widget().find(".oj-conveyorbelt-overflow-container")[0].scrollTop=t.offsetTop+t.offsetHeight-e:t.offsetTop<i&&(this.widget().find(".oj-conveyorbelt-overflow-container")[0].scrollTop=t.offsetTop)}}}),i.setDefaultOptions({ojConveyorBelt:{arrowVisibility:i.createDynamicPropertyGetter(function(){return(o.parseJSONFromFontFamily("oj-conveyorbelt-option-defaults")||{}).arrowVisibility})}}),l.extension._WIDGET_NAME="ojConveyorBelt",t.CustomElementBridge.register("oj-conveyor-belt",{metadata:l})});